# 资信猫小程序

基于微信小程序云开发的金融数据分析平台，提供银行流水分析、征信报告解读等服务。

## 功能特性

- 🔐 **用户登录注册** - 基于微信授权的用户系统
- 👤 **实名认证** - 安全的身份验证流程
- 📊 **数据分析** - 银行流水、征信报告智能分析
- 💰 **会员系统** - 多级会员权益管理
- 🛡️ **数据安全** - 端到端加密，符合金融级安全标准

## 技术栈

- **前端**: 微信小程序 + TypeScript + TDesign
- **后端**: 微信云开发 + Node.js
- **数据库**: 云数据库
- **存储**: 云存储

## 快速开始

### 1. 环境准备

- 微信开发者工具
- 微信小程序账号
- 云开发环境

### 2. 项目配置

1. 克隆项目到本地
2. 使用微信开发者工具打开项目
3. 配置 `project.config.json` 中的 `appid`
4. 开通云开发服务

### 3. 云函数部署

详见 [云开发部署指南](./docs/云开发部署指南.md)

### 4. 数据库初始化

1. 在云开发控制台创建数据库集合
2. 设置数据库权限
3. 运行初始化脚本

## 项目结构

```
miniprogram-2/
├── miniprogram/          # 小程序前端代码
│   ├── pages/           # 页面文件
│   ├── services/        # 服务层
│   ├── utils/           # 工具函数
│   └── app.ts           # 应用入口
├── cloudFunctions/      # 云函数
│   ├── login/          # 用户登录
│   ├── updateUserInfo/ # 更新用户信息
│   ├── getUserInfo/    # 获取用户信息
│   ├── realNameAuth/   # 实名认证
│   └── initDatabase/   # 数据库初始化
└── docs/               # 文档
```

## 核心功能

### 用户登录系统

- 微信授权登录
- 自动用户注册
- 登录状态管理
- 用户信息同步

### 实名认证

- 身份证号验证
- 手机号验证
- 第三方认证接口
- 认证状态管理

### 数据安全

- 敏感信息加密
- 权限控制
- 审计日志
- 合规性保障

## 开发指南

### 添加新页面

1. 在 `miniprogram/pages/` 下创建页面文件夹
2. 创建 `.wxml`, `.wxss`, `.ts`, `.json` 文件
3. 在 `app.json` 中注册页面路径

### 添加新云函数

1. 在 `cloudFunctions/` 下创建函数文件夹
2. 创建 `index.js` 和 `package.json`
3. 在开发者工具中上传部署

### 数据库操作

- 使用云数据库 API
- 遵循权限控制规则
- 注意数据脱敏处理

## 测试

项目包含测试页面 `/pages/test/test`，可以测试各个云函数的功能：

- 用户登录测试
- 用户信息获取/更新测试
- 实名认证测试
- 数据库初始化测试

## 部署

1. 确保所有云函数已上传部署
2. 数据库集合和权限已配置
3. 在开发者工具中预览测试
4. 提交审核发布

## 注意事项

1. **环境配置**: 确保云开发环境ID正确
2. **权限设置**: 数据库权限确保用户只能访问自己的数据
3. **实名认证**: 生产环境需要接入真实的第三方认证服务
4. **数据安全**: 敏感信息需要加密处理

## 许可证

MIT License
