# Banner äº‘å­˜å‚¨éƒ¨ç½²æŒ‡å—

## æ¦‚è¿°

å°† Banner å›¾ç‰‡ä»ä»£ç åŒ…è¿ç§»åˆ°äº‘å­˜å‚¨ï¼Œå®ç°ï¼š
- âœ… å‡å°ä»£ç åŒ…ä½“ç§¯
- âœ… åŠ¨æ€æ›´æ–° Bannerï¼Œæ— éœ€å‘ç‰ˆ
- âœ… çµæ´»ç®¡ç† Banner å†…å®¹
- âœ… æ”¯æŒå›¾ç‰‡å’Œæ¸å˜èƒŒæ™¯æ··åˆä½¿ç”¨

## éƒ¨ç½²æ­¥éª¤

### æ­¥éª¤ 1ï¼šä¸Šä¼  Banner å›¾ç‰‡åˆ°äº‘å­˜å‚¨

1. **æ‰“å¼€å¾®ä¿¡å¼€å‘è€…å·¥å…·**
2. **ç‚¹å‡»"äº‘å¼€å‘"æ§åˆ¶å°**
3. **è¿›å…¥"å­˜å‚¨"æ ‡ç­¾**
4. **åˆ›å»ºæ–‡ä»¶å¤¹**
   - ç‚¹å‡»"æ–°å»ºæ–‡ä»¶å¤¹"
   - è¾“å…¥æ–‡ä»¶å¤¹åç§°ï¼š`banners`
   - ç‚¹å‡»"ç¡®å®š"

5. **ä¸Šä¼ å›¾ç‰‡**
   - è¿›å…¥ `banners` æ–‡ä»¶å¤¹
   - ç‚¹å‡»"ä¸Šä¼ æ–‡ä»¶"
   - é€‰æ‹©ä»¥ä¸‹ä¸‰ä¸ªæ–‡ä»¶ï¼š
     - `miniprogram/images/banner1.png`
     - `miniprogram/images/banner2.png`
     - `miniprogram/images/banner3.png`
   - ç‚¹å‡»"ç¡®å®š"ä¸Šä¼ 

6. **è®°å½•äº‘å­˜å‚¨è·¯å¾„**
   - ä¸Šä¼ å®Œæˆåï¼Œç‚¹å‡»æ¯ä¸ªæ–‡ä»¶
   - å¤åˆ¶"æ–‡ä»¶ ID"ï¼ˆæ ¼å¼ï¼š`cloud://ç¯å¢ƒID.xxxx-xxxx/banners/banner1.png`ï¼‰
   - ä¿å­˜è¿™ä¸‰ä¸ªè·¯å¾„ï¼Œåé¢ä¼šç”¨åˆ°

**ç¤ºä¾‹è·¯å¾„ï¼š**
```
cloud://prod-xxx.xxxx-xxx/banners/banner1.png
cloud://prod-xxx.xxxx-xxx/banners/banner2.png
cloud://prod-xxx.xxxx-xxx/banners/banner3.png
```

---

### æ­¥éª¤ 2ï¼šåˆ›å»ºæ•°æ®åº“é›†åˆ

1. **åœ¨äº‘å¼€å‘æ§åˆ¶å°ï¼Œè¿›å…¥"æ•°æ®åº“"æ ‡ç­¾**
2. **ç‚¹å‡»"æ·»åŠ é›†åˆ"**
3. **è¾“å…¥é›†åˆåç§°ï¼š`banners`**
4. **ç‚¹å‡»"ç¡®å®š"**

---

### æ­¥éª¤ 3ï¼šæ·»åŠ  Banner é…ç½®æ•°æ®

åœ¨ `banners` é›†åˆä¸­ï¼Œç‚¹å‡»"æ·»åŠ è®°å½•"ï¼Œåˆ†åˆ«æ·»åŠ ä»¥ä¸‹ä¸‰æ¡è®°å½•ï¼š

#### Banner 1 - æµæ°´å®

```json
{
  "_id": "banner1",
  "id": 1,
  "title": "æµæ°´å®",
  "description": "ä¸“ä¸šçš„æµæ°´å®åˆ†ææœåŠ¡",
  "cloudPath": "cloud://zixinmao-6gze9a8pef07503b.7a69-zixinmao-6gze9a8pef07503b-1352083304/banners/banner1.png",
  "bgColor": "linear-gradient(135deg, #667eea 0%, #764ba2 100%)",
  "link": "/packageBusiness/pages/liushui/liushui",
  "disabled": true,
  "enabled": true,
  "sort": 1
}
```

#### Banner 2 - ç®€ä¿¡å®

```json
{
  "_id": "banner2",
  "id": 2,
  "title": "ç®€ä¿¡å®",
  "description": "ä¸“ä¸šçš„ç®€ä¿¡å®åˆ†ææœåŠ¡",
  "cloudPath": "cloud://zixinmao-6gze9a8pef07503b.7a69-zixinmao-6gze9a8pef07503b-1352083304/banners/banner2.png",
  "bgColor": "linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",
  "link": "/packageBusiness/pages/jianxin/jianxin",
  "disabled": false,
  "enabled": true,
  "sort": 2
}
```

#### Banner 3 - ä¸“ä¿¡å®

```json
{
  "_id": "banner3",
  "id": 3,
  "title": "ä¸“ä¿¡å®",
  "description": "ä¸“ä¸šçš„ä¸“ä¿¡å®åˆ†ææœåŠ¡",
  "cloudPath": "cloud://zixinmao-6gze9a8pef07503b.7a69-zixinmao-6gze9a8pef07503b-1352083304/banners/banner3.png",
  "bgColor": "linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)",
  "link": "/packageBusiness/pages/zhuanxin/zhuanxin",
  "disabled": true,
  "enabled": true,
  "sort": 3
}
```

**âš ï¸ é‡è¦ï¼š** è¯·å°† `cloudPath` ä¸­çš„ `ä½ çš„ç¯å¢ƒID.xxxx-xxxx` æ›¿æ¢ä¸ºæ­¥éª¤ 1 ä¸­è®°å½•çš„å®é™…äº‘å­˜å‚¨è·¯å¾„ï¼

---

### æ­¥éª¤ 4ï¼šéƒ¨ç½²äº‘å‡½æ•°

1. **åœ¨å¾®ä¿¡å¼€å‘è€…å·¥å…·ä¸­**
2. **æ‰¾åˆ° `cloudFunctions/getBanners` æ–‡ä»¶å¤¹**
3. **å³é”®ç‚¹å‡»è¯¥æ–‡ä»¶å¤¹**
4. **é€‰æ‹©"ä¸Šä¼ å¹¶éƒ¨ç½²ï¼šäº‘ç«¯å®‰è£…ä¾èµ–"**
5. **ç­‰å¾…éƒ¨ç½²å®Œæˆ**ï¼ˆå¯èƒ½éœ€è¦ 1-2 åˆ†é’Ÿï¼‰

---

### æ­¥éª¤ 5ï¼šæµ‹è¯•äº‘å‡½æ•°

1. **åœ¨äº‘å¼€å‘æ§åˆ¶å°ï¼Œè¿›å…¥"äº‘å‡½æ•°"æ ‡ç­¾**
2. **æ‰¾åˆ° `getBanners` å‡½æ•°**
3. **ç‚¹å‡»å‡½æ•°åç§°è¿›å…¥è¯¦æƒ…**
4. **ç‚¹å‡»"æµ‹è¯•"æ ‡ç­¾**
5. **è¾“å…¥æµ‹è¯•å‚æ•°ï¼š`{}`**
6. **ç‚¹å‡»"è¿è¡Œæµ‹è¯•"**

**æœŸæœ›çš„è¿”å›ç»“æœï¼š**
```json
{
  "success": true,
  "data": [
    {
      "_id": "banner1",
      "id": 1,
      "title": "æµæ°´å®",
      "description": "ä¸“ä¸šçš„æµæ°´å®åˆ†ææœåŠ¡",
      "cloudPath": "cloud://...",
      "imageUrl": "https://xxx.tcb.qcloud.la/...",
      "bgColor": "linear-gradient(135deg, #667eea 0%, #764ba2 100%)",
      "link": "/packageBusiness/pages/liushui/liushui",
      "disabled": true,
      "enabled": true,
      "sort": 1
    },
    // ... å…¶ä»–ä¸¤ä¸ª banner
  ]
}
```

**æ£€æŸ¥ç‚¹ï¼š**
- âœ… `success` ä¸º `true`
- âœ… `data` æ•°ç»„åŒ…å« 3 ä¸ª banner
- âœ… æ¯ä¸ª banner éƒ½æœ‰ `imageUrl` å­—æ®µï¼ˆä¸´æ—¶è®¿é—®é“¾æ¥ï¼‰
- âœ… `imageUrl` ä»¥ `https://` å¼€å¤´

---

### æ­¥éª¤ 6ï¼šæµ‹è¯•å°ç¨‹åº

1. **ç¼–è¯‘å°ç¨‹åº**
2. **æ‰“å¼€é¦–é¡µ**
3. **æŸ¥çœ‹æ§åˆ¶å°æ—¥å¿—**

**æœŸæœ›çš„æ—¥å¿—ï¼š**
```
å¼€å§‹åŠ è½½ Banner é…ç½®
Banner äº‘å‡½æ•°è°ƒç”¨ç»“æœ: {...}
æˆåŠŸè·å– Banner é…ç½®: [...]
```

4. **æŸ¥çœ‹ Banner è½®æ’­**
   - âœ… åº”è¯¥æ˜¾ç¤º 3 ä¸ª banner
   - âœ… å¦‚æœé…ç½®äº†å›¾ç‰‡ï¼Œåº”è¯¥æ˜¾ç¤ºå›¾ç‰‡
   - âœ… å¦‚æœæ²¡æœ‰å›¾ç‰‡ï¼Œåº”è¯¥æ˜¾ç¤ºæ¸å˜èƒŒæ™¯
   - âœ… å¯ä»¥å·¦å³æ»‘åŠ¨åˆ‡æ¢
   - âœ… è‡ªåŠ¨è½®æ’­

---

## åç»­ç®¡ç†

### å¦‚ä½•æ›´æ¢ Banner å›¾ç‰‡

1. **ä¸Šä¼ æ–°å›¾ç‰‡åˆ°äº‘å­˜å‚¨**
   - è¿›å…¥äº‘å¼€å‘æ§åˆ¶å° â†’ å­˜å‚¨ â†’ banners æ–‡ä»¶å¤¹
   - ä¸Šä¼ æ–°å›¾ç‰‡ï¼ˆå¯ä»¥è¦†ç›–åŸæ–‡ä»¶ï¼Œæˆ–ä¸Šä¼ æ–°æ–‡ä»¶ï¼‰

2. **æ›´æ–°æ•°æ®åº“é…ç½®**
   - è¿›å…¥äº‘å¼€å‘æ§åˆ¶å° â†’ æ•°æ®åº“ â†’ banners é›†åˆ
   - æ‰¾åˆ°è¦ä¿®æ”¹çš„è®°å½•
   - æ›´æ–° `cloudPath` å­—æ®µä¸ºæ–°å›¾ç‰‡çš„è·¯å¾„
   - ç‚¹å‡»"ä¿å­˜"

3. **åˆ·æ–°å°ç¨‹åº**
   - é‡æ–°æ‰“å¼€å°ç¨‹åºé¦–é¡µ
   - æ–°å›¾ç‰‡ä¼šè‡ªåŠ¨åŠ è½½

### å¦‚ä½•ä¸´æ—¶ç¦ç”¨æŸä¸ª Banner

**æ–¹æ³•ä¸€ï¼šå®Œå…¨éšè—**
- åœ¨æ•°æ®åº“ä¸­ï¼Œå°†è¯¥ banner çš„ `enabled` å­—æ®µæ”¹ä¸º `false`
- è¯¥ banner å°†ä¸ä¼šæ˜¾ç¤º

**æ–¹æ³•äºŒï¼šæ˜¾ç¤º"å¼€å‘ä¸­"æ ‡ç­¾**
- åœ¨æ•°æ®åº“ä¸­ï¼Œå°†è¯¥ banner çš„ `disabled` å­—æ®µæ”¹ä¸º `true`
- è¯¥ banner ä¼šæ˜¾ç¤ºï¼Œä½†ä¼šæœ‰"å¼€å‘ä¸­"æ ‡ç­¾ï¼Œç‚¹å‡»æ—¶æç¤º"åŠŸèƒ½å¼€å‘ä¸­"

### å¦‚ä½•è°ƒæ•´ Banner é¡ºåº

- ä¿®æ”¹ `sort` å­—æ®µçš„å€¼
- æ•°å­—è¶Šå°è¶Šé å‰
- ä¾‹å¦‚ï¼šsort=1 ä¼šæ’åœ¨ sort=2 å‰é¢

### å¦‚ä½•æ·»åŠ æ–°çš„ Banner

1. **ä¸Šä¼ å›¾ç‰‡åˆ°äº‘å­˜å‚¨**ï¼ˆå¦‚æœéœ€è¦ï¼‰
2. **åœ¨æ•°æ®åº“ä¸­æ·»åŠ æ–°è®°å½•**
   ```json
   {
     "_id": "banner4",
     "id": 4,
     "title": "æ–°åŠŸèƒ½",
     "description": "æ–°åŠŸèƒ½æè¿°",
     "cloudPath": "cloud://...",
     "bgColor": "linear-gradient(135deg, #xxx, #xxx)",
     "link": "/pages/xxx/xxx",
     "disabled": false,
     "enabled": true,
     "sort": 4
   }
   ```
3. **åˆ·æ–°å°ç¨‹åº**

---

## ä¼˜åŒ–å»ºè®®

### å›¾ç‰‡ä¼˜åŒ–

1. **å°ºå¯¸**ï¼šå»ºè®® 750px Ã— 300pxï¼ˆ2.5:1 æ¯”ä¾‹ï¼‰
2. **æ ¼å¼**ï¼šPNG æˆ– JPG
3. **å¤§å°**ï¼šå•å¼ ä¸è¶…è¿‡ 500KB
4. **å‹ç¼©**ï¼šä½¿ç”¨ TinyPNG ç­‰å·¥å…·å‹ç¼©

### æ€§èƒ½ä¼˜åŒ–

1. **ä¸´æ—¶é“¾æ¥ç¼“å­˜**
   - äº‘å­˜å‚¨ä¸´æ—¶é“¾æ¥æœ‰æ•ˆæœŸ 2 å°æ—¶
   - å¯ä»¥åœ¨å‰ç«¯ç¼“å­˜ï¼Œé¿å…é¢‘ç¹è°ƒç”¨äº‘å‡½æ•°

2. **æ‡’åŠ è½½**
   - é¦–å±åªåŠ è½½ç¬¬ä¸€å¼  banner
   - å…¶ä»– banner å»¶è¿ŸåŠ è½½

3. **åå¤‡æ–¹æ¡ˆ**
   - ä¿ç•™ `bgColor` æ¸å˜èƒŒæ™¯
   - å›¾ç‰‡åŠ è½½å¤±è´¥æ—¶æ˜¾ç¤ºæ¸å˜èƒŒæ™¯

---

## æ•…éšœæ’æŸ¥

### é—®é¢˜ 1ï¼šBanner ä¸æ˜¾ç¤º

**å¯èƒ½åŸå› ï¼š**
1. äº‘å‡½æ•°æœªéƒ¨ç½²
2. æ•°æ®åº“é›†åˆæœªåˆ›å»º
3. æ•°æ®åº“ä¸­æ²¡æœ‰æ•°æ®

**è§£å†³æ–¹æ³•ï¼š**
1. æ£€æŸ¥äº‘å‡½æ•°æ˜¯å¦éƒ¨ç½²æˆåŠŸ
2. æ£€æŸ¥æ•°æ®åº“é›†åˆæ˜¯å¦å­˜åœ¨
3. æ£€æŸ¥æ•°æ®åº“ä¸­æ˜¯å¦æœ‰ `enabled: true` çš„è®°å½•

### é—®é¢˜ 2ï¼šå›¾ç‰‡ä¸æ˜¾ç¤ºï¼Œåªæ˜¾ç¤ºæ¸å˜èƒŒæ™¯

**å¯èƒ½åŸå› ï¼š**
1. `cloudPath` è·¯å¾„é”™è¯¯
2. äº‘å­˜å‚¨ä¸­æ²¡æœ‰å¯¹åº”æ–‡ä»¶
3. ä¸´æ—¶é“¾æ¥ç”Ÿæˆå¤±è´¥

**è§£å†³æ–¹æ³•ï¼š**
1. æ£€æŸ¥ `cloudPath` æ˜¯å¦æ­£ç¡®
2. æ£€æŸ¥äº‘å­˜å‚¨ä¸­æ˜¯å¦æœ‰å¯¹åº”æ–‡ä»¶
3. æŸ¥çœ‹äº‘å‡½æ•°æ—¥å¿—ï¼Œç¡®è®¤æ˜¯å¦æœ‰é”™è¯¯

### é—®é¢˜ 3ï¼šæ˜¾ç¤º"åŠ è½½ä¸­..."ä¸æ¶ˆå¤±

**å¯èƒ½åŸå› ï¼š**
1. äº‘å‡½æ•°è°ƒç”¨å¤±è´¥
2. ç½‘ç»œé—®é¢˜

**è§£å†³æ–¹æ³•ï¼š**
1. æŸ¥çœ‹æ§åˆ¶å°æ—¥å¿—
2. æ£€æŸ¥ç½‘ç»œè¿æ¥
3. é‡æ–°ç¼–è¯‘å°ç¨‹åº

---

## ä»£ç åŒ…ä½“ç§¯å¯¹æ¯”

### è¿ç§»å‰
```
miniprogram/images/banner1.png  ~150KB
miniprogram/images/banner2.png  ~150KB
miniprogram/images/banner3.png  ~150KB
æ€»è®¡ï¼š~450KB
```

### è¿ç§»å
```
äº‘å­˜å‚¨ï¼šbanner1.png  ~150KB
äº‘å­˜å‚¨ï¼šbanner2.png  ~150KB
äº‘å­˜å‚¨ï¼šbanner3.png  ~150KB
ä»£ç åŒ…å¢åŠ ï¼š~0KBï¼ˆåªå¢åŠ äº†é…ç½®ä»£ç ï¼‰
```

**èŠ‚çœç©ºé—´ï¼š~450KB**

---

## æ€»ç»“

âœ… **å®Œæˆéƒ¨ç½²åï¼Œä½ å°†è·å¾—ï¼š**
1. ä»£ç åŒ…ä½“ç§¯å‡å°çº¦ 450KB
2. å¯ä»¥éšæ—¶æ›´æ¢ Banner å›¾ç‰‡ï¼Œæ— éœ€å‘ç‰ˆ
3. å¯ä»¥åŠ¨æ€æ§åˆ¶ Banner çš„æ˜¾ç¤º/éšè—
4. å¯ä»¥çµæ´»è°ƒæ•´ Banner é¡ºåº
5. æ”¯æŒå›¾ç‰‡å’Œæ¸å˜èƒŒæ™¯æ··åˆä½¿ç”¨

ğŸ‰ **ç°åœ¨å¼€å§‹éƒ¨ç½²å§ï¼**

