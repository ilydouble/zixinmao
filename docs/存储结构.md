# 云存储目录结构

## 目录规划

```
cloud-storage/
├── uploads/                    # 用户上传文件
│   ├── {openid}/              # 按用户分目录
│   │   ├── {date}/            # 按日期分目录 (YYYY-MM-DD)
│   │   │   └── {filename}     # 原始文件
├── reports/                   # 生成的报告文件
│   ├── {openid}/              # 按用户分目录
│   │   ├── {reportId}/        # 按报告ID分目录
│   │   │   ├── report.pdf     # 生成的PDF报告
│   │   │   ├── report.json    # 报告数据
│   │   │   └── attachments/   # 附件目录
├── temp/                      # 临时文件
│   └── {timestamp}/           # 按时间戳分目录
└── system/                    # 系统文件
    ├── templates/             # 报告模板
    └── assets/                # 静态资源
```

## 文件命名规范

### 上传文件
- 格式：`{timestamp}_{originalName}`
- 示例：`1703123456789_银行流水.pdf`

### 报告文件
- 格式：`{reportType}_{timestamp}.pdf`
- 示例：`flow_1703123456789.pdf`

## 存储配置

### 文件大小限制
- 单个文件：最大 20MB
- 用户总存储：最大 100MB

### 文件保存期限
- 上传文件：30天
- 报告文件：7天
- 临时文件：1天

### 自动清理规则
- 每日凌晨2点执行清理任务
- 删除过期文件
- 清理空目录