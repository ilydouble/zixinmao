# 会员配置数据库初始化

## 集合名称：membership_config

### 数据结构

```json
{
  "_id": "basic",  // 会员类型ID
  "type": "basic",  // 会员类型
  "name": "普通会员",
  "icon": "⭐",
  "color": "#1890ff",
  "gradient": "linear-gradient(135deg, #667eea 0%, #764ba2 100%)",
  "description": "解锁简信宝功能",
  "features": [
    "✅ 简信宝 - 简版征信分析",
    "✅ 无限次查询报告",
    "✅ 报告下载保存",
    "✅ 历史报告查看",
    "✅ 专属客服支持"
  ],
  "prices": {
    "monthly": 29.9,
    "quarterly": 79.9,
    "yearly": 299.9
  },
  "enabled": true,  // 是否启用
  "sort": 1,  // 排序
  "createdAt": "2024-01-01T00:00:00.000Z",
  "updatedAt": "2024-01-01T00:00:00.000Z"
}
```

### 初始化数据

请在微信开发者工具的云数据库中创建 `membership_config` 集合，并添加以下三条记录：

#### 1. 免费用户配置

```json
{
  "_id": "free",
  "type": "free",
  "name": "免费用户",
  "icon": "👤",
  "color": "#999999",
  "gradient": "linear-gradient(135deg, #d1d5db 0%, #9ca3af 100%)",
  "description": "体验基础功能",
  "features": [
    "查看产品介绍",
    "联系客服咨询"
  ],
  "prices": {
    "monthly": 0,
    "quarterly": 0,
    "yearly": 0
  },
  "enabled": true,
  "sort": 0,
  "createdAt": "2024-01-01T00:00:00.000Z",
  "updatedAt": "2024-01-01T00:00:00.000Z"
}
```

#### 2. 普通会员配置

```json
{
  "_id": "basic",
  "type": "basic",
  "name": "普通会员",
  "icon": "⭐",
  "color": "#1890ff",
  "gradient": "linear-gradient(135deg, #667eea 0%, #764ba2 100%)",
  "description": "解锁简信宝功能",
  "features": [
    "✅ 简信宝 - 简版征信分析",
    "✅ 无限次查询报告",
    "✅ 报告下载保存",
    "✅ 历史报告查看",
    "✅ 专属客服支持"
  ],
  "prices": {
    "monthly": 29.9,
    "quarterly": 79.9,
    "yearly": 299.9
  },
  "enabled": true,
  "sort": 1,
  "createdAt": "2024-01-01T00:00:00.000Z",
  "updatedAt": "2024-01-01T00:00:00.000Z"
}
```

#### 3. 高级会员配置

```json
{
  "_id": "premium",
  "type": "premium",
  "name": "高级会员",
  "icon": "👑",
  "color": "#faad14",
  "gradient": "linear-gradient(135deg, #f093fb 0%, #f5576c 100%)",
  "description": "尊享全部功能",
  "features": [
    "✅ 简信宝 - 简版征信分析",
    "✅ 流水宝 - 银行流水分析（开发中）",
    "✅ 专信宝 - 专业征信分析（开发中）",
    "✅ 无限次查询报告",
    "✅ 报告下载保存",
    "✅ 历史报告查看",
    "✅ AI 智能分析",
    "✅ 优先客服支持",
    "✅ 专属会员标识"
  ],
  "prices": {
    "monthly": 99.9,
    "quarterly": 269.9,
    "yearly": 999.9
  },
  "enabled": true,
  "sort": 2,
  "createdAt": "2024-01-01T00:00:00.000Z",
  "updatedAt": "2024-01-01T00:00:00.000Z"
}
```

## 操作步骤

1. 打开微信开发者工具
2. 点击"云开发"控制台
3. 进入"数据库"
4. 点击"添加集合"，输入集合名称：`membership_config`
5. 点击"添加记录"，分别添加上述三条 JSON 记录

## 后台管理

后续可以直接在云数据库控制台修改价格配置，无需修改代码：

- 修改 `prices.monthly` - 月费价格
- 修改 `prices.quarterly` - 季费价格
- 修改 `prices.yearly` - 年费价格
- 修改 `enabled` - 是否启用该会员类型
- 修改 `features` - 会员权益列表

修改后，小程序会自动从数据库读取最新配置。

