<!--recharge.wxml-->
<view class="container">
  <view class="recharge-content">
    <!-- 会员类型选择 -->
    <view class="membership-section">
      <view class="section-title">选择会员类型</view>
      <view class="membership-types">
        <view
          wx:for="{{membershipTypes}}"
          wx:key="type"
          class="membership-type-card {{selectedMembershipType === item.type ? 'selected' : ''}}"
          style="border-color: {{item.color}}"
          data-type="{{item.type}}"
          bind:tap="onSelectMembershipType">
          <view class="type-header" style="background: {{item.gradient}}">
            <text class="type-icon">{{item.icon}}</text>
            <text class="type-name">{{item.name}}</text>
          </view>
          <view class="type-desc">{{item.description}}</view>
          <view class="type-features">
            <view wx:for="{{item.features}}" wx:key="index" wx:for-item="feature" class="feature-item-small">
              <text class="feature-text-small">{{feature}}</text>
            </view>
          </view>
        </view>
      </view>
    </view>

    <!-- 时长选择 -->
    <view class="duration-section">
      <view class="section-title">选择时长</view>
      <view class="duration-grid">
        <view
          wx:for="{{durationOptions}}"
          wx:key="key"
          class="duration-item {{selectedDuration === item.key ? 'selected' : ''}}"
          data-duration="{{item.key}}"
          bind:tap="onSelectDuration">
          <view wx:if="{{item.badge}}" class="duration-badge">{{item.badge}}</view>
          <view class="duration-label">{{item.label}}</view>
          <view class="duration-price">¥{{item.price}}</view>
        </view>
      </view>
    </view>

    <!-- 支付方式 -->
    <view class="payment-section">
      <view class="section-title">支付方式</view>
      <view class="payment-methods">
        <view class="payment-item selected">
          <view class="payment-icon">💳</view>
          <view class="payment-name">微信支付</view>
          <view class="payment-check">✓</view>
        </view>
      </view>
    </view>

    <!-- 支付按钮 -->
    <view class="pay-section">
      <view class="pay-info">
        <view class="pay-label">支付金额</view>
        <view class="pay-amount">¥{{currentPrice}}</view>
      </view>
      <t-button
        theme="primary"
        size="large"
        block
        bind:tap="onPay"
      >
        立即开通
      </t-button>
    </view>

    <!-- 会员说明 -->
    <view class="service-note">
      <view class="note-title">💡 会员说明</view>
      <view class="note-content">
        • 开通后立即生效，可使用对应会员功能<br/>
        • 支持微信支付，安全便捷<br/>
        • 会员到期后可续费延长使用时间<br/>
        • 如有问题请联系客服
      </view>
    </view>
  </view>
</view>
